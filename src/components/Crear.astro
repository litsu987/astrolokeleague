<div class="backgroundDiv crearLiga" ref="backgroundDivCrear">
  <img src="https://i.gifer.com/YNXo.gif" alt="Background" />
  <h1 class="titulo">CREAR LIGA</h1>
</div>

<script>
  const backgroundDivCrear = document.querySelector('.crearLiga');
  backgroundDivCrear.addEventListener('click', expandirYDesactivarCrear);

  function expandirYDesactivarCrear() {
    expandirDivCrear();
    ocultarContenidoCrear();
    backgroundDivCrear.removeEventListener('click', expandirYDesactivarCrear); // Desactivar el evento de clic
  }

  function expandirDivCrear() {
    const expandido = backgroundDivCrear.classList.toggle('expandido');
    if (expandido) {
      // Agregar un botón si está expandido
      const minimizarBtn = document.createElement('button');
      minimizarBtn.textContent = 'Minimizar';
      minimizarBtn.classList.add('minimizarBtn');
      minimizarBtn.addEventListener('click', minimizarDivCrear);
      backgroundDivCrear.appendChild(minimizarBtn);

      backgroundDivCrear.style.transform = 'scaleX(2)';
      backgroundDivCrear.style.transformOrigin = 'left';
      backgroundDivCrear.style.backgroundColor = 'rgba(0, 0, 0, 0.7)'; // Fondo negro con opacidad
      backgroundDivCrear.style.transition = 'transform 0.5s ease, background-color 0.5s ease, width 0.5s ease'; // Agregar transición para el cambio de ancho
    } else {
      // Eliminar el botón si se minimiza
      const minimizarBtn = backgroundDivCrear.querySelector('.minimizarBtn');
      if (minimizarBtn) {
        minimizarBtn.remove();
      }

      
    }
  }

  function ocultarContenidoCrear() {
    backgroundDivCrear.classList.toggle('oculto');
  }

  function minimizarDivCrear() {
    // Eliminar el botón si se minimiza
    const minimizarBtn = backgroundDivCrear.querySelector('.minimizarBtn');
    if (minimizarBtn) {
      minimizarBtn.remove();
    }

    backgroundDivCrear.classList.remove('expandido'); // Eliminar la clase 'expandido' para volver al tamaño estándar
    ocultarContenidoCrear();

    // Retrasar la restauración del tamaño y del color de fondo
    setTimeout(() => {
      backgroundDivCrear.style.transform = 'scaleX(1)'; // Escala en X a 0.1 para cerrar el div
      backgroundDivCrear.style.backgroundColor = 'transparent'; // Restaurar el fondo transparente
    }, 100); // 100 milisegundos de retraso

    // Reactivar el evento de clic después de completar la transición
    setTimeout(() => {
      backgroundDivCrear.addEventListener('click', expandirYDesactivarCrear);
    }, 500); // 500 milisegundos de retraso (corresponde a la duración de la transición)
  }
</script>

<style>
  .backgroundDiv {
    position: relative;
    width: 120%; /* Cambiado a un valor fijo */
    height: 280px; /* Cambiado a un valor fijo */
    background-size: cover;
    background-position: center;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 20px;
    overflow: hidden;
    margin: 0 auto;
    cursor: pointer;
    transition: transform 0.5s ease, background-color 0.5s ease; /* Transición más lenta */
  }
  
  .backgroundDiv.expandido {
    width: 100%;
   
  }
  
  .backgroundDiv img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: blur(0);
  }
  
  .backgroundDiv .titulo {
    position: absolute;
    color: orange;
    font-family: 'Arial', sans-serif;
    font-size: 2rem;
    z-index: 1;
    transition: color 0.3s ease;
  }
  
  .backgroundDiv.oculto img,
  .backgroundDiv.oculto .titulo {
    display: none;
  }
  
  .backgroundDiv:hover img {
    filter: blur(5px);
  }
  
  .backgroundDiv:hover .titulo {
    color: white;
  }
  
  .minimizarBtn {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: none; /* Ocultar por defecto */
    padding: 8px 16px;
    background-color: #333;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  
  .minimizarBtn:hover {
    background-color: #555;
  }
</style>
